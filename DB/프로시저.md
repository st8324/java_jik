# 프로시저

* 일련의 쿼리를 하나의 함수처럼 실행하기 위한 쿼리의 집합
* 장점
  * 하나의 요청으로 여러 SQL문을 실행할 수 있다.
  * 처리시간이 줄어든다
  * 응용프로그램측 로직을 거치지지 않고도 데이터의 앞뒤가 맞게 할 수 있다.
    * 쇼핑몰에서 제품을 구매하면 구매테이블에 구매 내역을 추가하고, 재고량을 수정해야함
      * 이 부분을 프로그램이 직접 2번에 걸쳐 작업할 수 도 있지만 프로시저를 통해 데이터베이스에서 처리를 할 수 있다
  * 보수성이 좋다
* 단점
  * 재사용이 나쁨
  * 업무 환경이 변화하면 프로시저를 수정해야할 수도 있다

* 프로시저 목록 확인

```mysql
show procedure status;
```

* 프로시저 스크립트 확인

```mysql
show create procedure 프로시저명;
```

* 프로시저 정의

```mysql
delimiter // -- 쿼리의 마지막을 ; 대신 //로 사용하겠다는 의미 
create procedure 프로시저명(
	[in | out] 변수명 타입,
    ...
)
begin
	-- 쿼리문
end //
delimiter ;
```

