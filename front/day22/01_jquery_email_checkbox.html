<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>이메일 체크 박스</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
	<script src="../js/jquery.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
	<div class="container">
		<table class="table table-hover">
			<thead>
				<tr>
					<th width="10%"><input type="checkbox" class="check-all"></th>
					<th width="70%">제목</th>
					<th width="20%">작성자</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><input type="checkbox" class="check"></td>
					<td>Doe</td>
					<td>john@example.com</td>
				</tr>
				<tr>
					<td><input type="checkbox" class="check"></td>
					<td>Moe</td>
					<td>mary@example.com</td>
				</tr>
				<tr>
					<td><input type="checkbox" class="check"></td>
					<td>Dooley</td>
					<td>july@example.com</td>
				</tr>
			</tbody>
		</table>
	</div>
	<script>
		$(function(){
			$('.check-all').click(function(){
				//클릭된 체크박스의 체크 여부를 확인
				var checked = $(this).prop('checked')
				//체크 여부를 전체 체크박스에 적용
				$('.check').prop('checked', checked);
			})
			$('.check').click(function(){
				/*
				클릭된 체크박스가 체크된 상태이면 전체가 체크된 상태인지 확인 
				=> 전체가 체크됐으면 check-all을 체크
				*/
				if($(this).is(':checked')){
					//check중 선택된 체크박스 개수
					var count = $('.check').filter(':checked').length;
					//전체 check 개수
					var totalCount = $('.check').length;
					//전체가 체크됐으면
					if(totalCount == count)
						$('.check-all').prop('checked', true);
				}
				//체크가 해제된 상태 => check-all을 체크해제
				else{
					//check-all을 해제
					$('.check-all').prop('checked', false);
				}
			})
		})
	</script>
</body>
</html>